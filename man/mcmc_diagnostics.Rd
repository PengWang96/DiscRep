% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/my_posterior.R
\name{mcmc_diagnostics}
\alias{mcmc_diagnostics}
\title{MCMC Diagnostics for Metropolis-Hastings Output}
\usage{
mcmc_diagnostics(
  mh_result,
  r = NULL,
  lag_max = 50,
  plot = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{mh_result}{A list returned by \code{metropolis_hastings()}.}

\item{r}{Numeric scalar in \verb{[0, 1)} (optional). Burn-in ratio used to define
post-burn samples. If \code{NULL}, the function tries \code{mh_result$burn_in_ratio}
first, and then uses \code{0.05} if unavailable.}

\item{lag_max}{Integer scalar. Maximum lag used for ACF and ESS
calculation. Defaults to \code{50}. Internally capped at \code{post_burn_n - 1}.}

\item{plot}{Logical. If \code{TRUE}, draw post-burn trace plot and ACF curve.}

\item{verbose}{Logical. If \code{TRUE}, print key diagnostics.}
}
\value{
A list with:
\item{post_burn_chain}{Numeric vector of post-burn samples.}
\item{burn_in_n}{Integer. Number of discarded burn-in samples.}
\item{post_burn_n}{Integer. Number of post-burn samples.}
\item{ess}{Numeric. Effective sample size of post-burn chain.}
\item{acceptance_ratio_total}{Numeric. Acceptance ratio from MH output.}
\item{acceptance_ratio_post_burn}{Numeric. Acceptance ratio in post-burn chain.}
\item{acf}{\code{acf} object computed from post-burn chain.}
}
\description{
This function summarizes and visualizes MCMC diagnostics based on
\code{metropolis_hastings()} output. It computes diagnostics using post-burn-in
samples and produces:
\enumerate{
\item trace plot,
\item autocorrelation function (ACF) curve,
\item effective sample size (ESS),
\item acceptance ratio.
}
}
\details{
ESS is computed from post-burn autocorrelations:
\code{ESS = n / (1 + 2 * sum(rho_k))}, where only positive \code{rho_k} are summed.
}
\examples{
set.seed(1)
res <- metropolis_hastings(
  N = 2000,
  r = 0.05,
  m = 2,
  hat_beta = c(0.4, 0.6),
  hat_sigma_sq = c(0.1, 0.2)
)
diag_res <- mcmc_diagnostics(res)
diag_res$ess
}
